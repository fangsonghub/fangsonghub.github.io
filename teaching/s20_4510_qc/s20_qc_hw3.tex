% Created by Fang Song on April 5 2020. Instructions: you don't need
% to change anything in the macros, but feel free to define new
% commands as you wish. Starting from the main body, change the specs
% (e.g., your name). use \begin{solution} \end{solution} environment
% to write your solutions. Don't forget to list your collaborators.

\documentclass[12pt,answers]{exam}
%============Macros==================%
\usepackage{amsmath,amsfonts,amssymb,amsthm}
\usepackage{qcircuit}
\usepackage[margin=1in]{geometry}

%--------------Cosmetic----------------%
\usepackage{mathtools}
\usepackage{hyperref}
\usepackage{fullpage}
\usepackage{microtype}
\usepackage{xspace}
\usepackage[svgnames]{xcolor}
\usepackage[sc]{mathpazo}
\usepackage{enumitem}
\setlist[enumerate]{itemsep=1pt,topsep=2pt}
\setlist[itemize]{itemsep=1pt,topsep=2pt}
\usepackage{mdframed} %
\mdfdefinestyle{figstyle}{ %
  linecolor=black!7, %
  backgroundcolor=black!7, %
  innertopmargin=10pt, %
  innerleftmargin=25pt, %
  innerrightmargin=25pt, %
  innerbottommargin=10pt %
}

%----------Header--------------------%
\def\course{CS 410/510 Introduction to Quantum Computing}
\def\term{Portland State U, Spring 2020}
\def\prof{Lecturer: Fang Song}
\newcommand{\handout}[5]{
   \renewcommand{\thepage}{\arabic{page}}
   \begin{center}
   \framebox{
      \vbox{
    \hbox to 5.78in { \hfill \large{\course} \hfill }
       \vspace{2mm}
       \hbox to 5.78in { {\Large \hfill #5  \hfill} }
       \vspace{2mm}
       \hbox to 5.78in { \term \hfill \emph{#2}}
       \hbox to 5.78in { {#3 \hfill \emph{#4}}}
      }
   }
   \end{center}
   \vspace*{4mm}
 }
 
\newcommand{\hw}[4]{\handout{#1}{#2}{#3}{#4}{Homework #1}}

%-----defs and commands-----%
\def\mG{[\textbf{G}]\xspace}
\def\veps{\varepsilon}
\def\tr{\mathrm{tr}}
\newcommand{\bit}{\{0,1\}}
\newcommand{\bra}[1]{\langle #1 \rvert}
\newcommand{\ket}[1]{\lvert #1 \rangle}
\newcommand{\kera}[1]{\ket{#1}\bra{#1}}

%=======Main document==============%
\begin{document}

%----Specs: change accordingly-----%
\newif\ifstudent % comment out false
\studenttrue 
% \studentfalse

\def\hwnum{3} %
\def\issuedate{04/19/2020} %
\def\duedate{11:59pm PDT, 04/26/2020} % 
\def\yourname{your name} % put your name here
%------------------------------%
\ifstudent
\hw{\hwnum}{\issuedate}{Student: \yourname}{Due: \duedate}%
\else
\hw{\hwnum}{\issuedate}{\prof}{Due: \duedate}%
\fi
\noindent \textbf{Instructions.}  This problem set contains \numpages\
pages (including this cover page) and \numquestions\
questions. Problems marked with ``\mG'' are required for 510
students. Students enrolled in 410 will get bonus points for solving
them. A random subset of problems will be graded.

Your solutions will be graded on \emph{correctness} and
\emph{clarity}. You should only submit work that you believe to be
correct, and you will get significantly more partial credit if you
clearly identify the gap(s) in your solution. It is good practice to
start any long solution with an informal (but accurate) summary that
describes the main idea.

You need to submit a PDF file via Gradescope before the
deadline. Either a clear scan of you handwriting or a typeset document
is accepted. You will get 5 bonus points for typing in LaTeX (Download
and use the accompany TeX file).

\medskip
\noindent You may collaborate with others on this problem set% and consult external sources
.  However, you must \textbf{\emph{write up your own solutions}} and
\textbf{\emph{list your collaborators}} for each problem.

\newpage 
\begin{questions}

\question[6] (Partial measurement) Given two qubits $A$ and $B$ in an
  arbitrary state $\ket{\psi}_{AB}$, show that measuring $A$ and then
  $B$ is \emph{equivalent} to measuring both qubits
  simultaneously. Namely the two quantum circuits below are
  equivalent. All measurements are in the computational basis denoted
  by $\Qcircuit @C=1em @R=.7em { & \measureD{\phantom{Z}}& \qw} $.
  \begin{mdframed}[style=figstyle]
  \[ \Qcircuit @C=1em @R=.7em {
      & \measureD{\phantom{Z}} & \qw & \qw \\
      & \qw & \measureD{\phantom{Z}} & \qw } \quad \equiv \quad \Qcircuit
    @C=1em @R=.7em {
      & \measureD{\phantom{Z}} & \qw  \\
      & \measureD{\phantom{Z}} & \qw } \]
\end{mdframed}
  \newpage
\question (Distinguishing states by local measurements) Suppose Alice
  and Bob are physically separated from each other, and are each given
  one of the qubits of some 2-qubit state. They are required to
  distinguish between State I and State II with only local
  measurements. Namely they can each perform a local (one-qubit)
  unitary operation and then a measurement (in the computational
  basis) of their own qubit. After their measurements, they can send
  only classical bits to each other. (This is usually referred to as
  LOCC: local operation and classical communication.)  In each case
  below, either give a perfect distinguishing procedure (that never
  errs) or explain why there is no perfect distinguishing procedure
  (i.e., that for any procedure the success probability must be less
  than 1).

  \begin{parts}
    \part[6] State I: $\frac{1}{\sqrt 2}(\ket{00} + \ket{11})$; State
      II: $\frac{1}{\sqrt 2}(\ket{01} + \ket{10})$

      \newpage 
    \part[6] State I: $\frac{1}{\sqrt 2} (\ket{00} + \ket{11})$; State
      II: $\frac{1}{\sqrt 2} (\ket{00}-\ket{11})$

      \newpage 
    \part[6] \mG State I: $\frac{1}{\sqrt 2}(\ket{00} + i \ket{11})$;
      State II: $\frac{1}{\sqrt 2}(\ket{00}-i\ket{11})$

      \newpage
  \end{parts}


\question (Hadarmard) Let $H$ be the Hadamard gate. 

  \begin{parts}
  \part[6] Let $a,b\in\bit$ be two arbitrary bits. Show that
    $H (\frac{\ket{0} + (-1)^{a \oplus b}\ket{1}}{\sqrt 2}) =
    \ket{a\oplus b}$.
    \newpage
  \part[6] Show that
    $\forall x\in \bit^n, H^{\otimes n} \ket{x} = \frac{1}{\sqrt 2^n}
    \sum_{y\in \bit^n} (-1)^{x\cdot y} |y\rangle $. Here
    $x\cdot y = x_1y_1 + x_2y_2+\ldots +x_ny_n \bmod 2$.

    \newpage

  \part[6] Verify the following circuit identity. (Hint: it suffices to
    check that they act the same on the computational basis.)

        \begin{mdframed}[style=figstyle]
          \[ \Qcircuit @C=1em @R=.7em {
              & \ctrl{1} & \qw \\
              & \targ & \qw } \quad \equiv \quad \Qcircuit @C=1em
            @R=.7em {
              & \gate{H} & \targ & \gate{H} & \qw \\
              & \gate{H} & \ctrl{-1} & \gate{H} & \qw } \]
 \end{mdframed}
 \newpage
\part[8] Continue from part (c). Implement the two circuits with
  complete measurement in the end in IBM Qiskit (via either graphic
  composer, notbook, or local Qiskit environment). Run the QASM
  simulator 1024 shots with each of the Bell states as input, and show
  the output histograms.
  
  \end{parts}


\end{questions}


\end{document}
